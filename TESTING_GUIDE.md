# Руководство по тестированию трекера бюджета

## Что было реализовано

### 1. Создание бюджетов
- Страница `/budgets` теперь позволяет создавать бюджеты
- Кнопка "+ Добавить" открывает форму
- Поля: название категории и лимит расходов
- Бюджеты сохраняются в localStorage

### 2. Связь транзакций с бюджетами
- При добавлении расхода в `/transactions` появляется выпадающий список категорий
- Выбор категории автоматически обновляет `budget.used`
- Трекер на главной странице показывает реальный прогресс

### 3. Визуализация на главной странице
- Прогресс-бар меняет цвет: зелёный → жёлтый → красный
- Показывает доступную сумму и лимит
- Пустое состояние с призывом создать бюджет

## Как протестировать

### Шаг 1: Создайте бюджеты
1. Откройте http://localhost:3000/budgets
2. Нажмите "+ Добавить" в разделе "Категории расходов"
3. Создайте несколько бюджетов:
   - Продукты: 15000₽
   - Транспорт: 5000₽
   - Развлечения: 3000₽
4. Проверьте, что они появились в списке

### Шаг 2: Добавьте расходы с категориями
1. Откройте http://localhost:3000/transactions
2. Нажмите "Добавить операцию"
3. Выберите тип "Расход"
4. Заполните:
   - Название: "Супермаркет"
   - Категория: "Продукты" (выберите из списка)
   - Сумма: 2500
5. Нажмите OK
6. Добавьте ещё несколько расходов в разные категории

### Шаг 3: Проверьте обновление трекера
1. Вернитесь на главную страницу http://localhost:3000
2. Проверьте:
   - ✅ Прогресс-бар заполнен пропорционально тратам
   - ✅ "Доступно в этом месяце" = лимит - траты
   - ✅ "На счету" показывает процент использования
   - ✅ Цвет прогресс-бара меняется (зелёный < 70%, жёлтый < 100%, красный ≥ 100%)

### Шаг 4: Проверьте страницу бюджетов
1. Откройте http://localhost:3000/budgets
2. Проверьте:
   - ✅ Каждая категория показывает потраченную сумму
   - ✅ Круговой индикатор показывает процент
   - ✅ "Всего расходов" суммирует все траты

### Шаг 5: Дополнительные функции
1. **Сброс трат**: Нажмите ⋯ → "Сбросить траты" (обнуляет used, но сохраняет лимиты)
2. **Удаление всех бюджетов**: Нажмите ⋯ → "Удалить все"
3. **Транзакции без категории**: Можно добавлять расходы без выбора категории

## Ожидаемое поведение

### Корректная работа
- ✅ Бюджеты создаются и сохраняются
- ✅ Расходы с категорией обновляют соответствующий бюджет
- ✅ Главная страница показывает реальные данные
- ✅ Все изменения сохраняются в localStorage
- ✅ После перезагрузки страницы данные остаются

### Граничные случаи
- Расход без категории не влияет на бюджеты
- Можно потратить больше лимита (индикатор покажет >100%)
- Доходы не влияют на бюджеты расходов
- Редактирование транзакции пересчитывает бюджет

## Известные ограничения

1. **Нет связи транзакция-бюджет**: Транзакции не хранят информацию о категории, поэтому:
   - При редактировании транзакции нельзя изменить категорию
   - Удаление транзакции не уменьшает budget.used
   - Это упрощённая реализация для MVP

2. **Ручное управление**: Пользователь может вручную сбросить траты через меню

## Следующие шаги (опционально)

Если нужна более продвинутая система:
1. Добавить поле `budgetId` в тип `Transaction`
2. При удалении транзакции вычитать сумму из бюджета
3. При редактировании пересчитывать старый и новый бюджет
4. Добавить фильтрацию транзакций по категориям
5. Показывать историю трат по каждой категории
